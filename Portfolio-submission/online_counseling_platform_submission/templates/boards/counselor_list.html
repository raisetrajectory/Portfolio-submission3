{% extends "base.html" %}
{% load static %}
{% block content %}
{% if messages %}
    {% for message in messages %}
        <div>{{ message.message }}</div>
    {% endfor %}
{% endif %}

<div class="text-center">
    <h1>カウンセラー一覧画面</h1>
</div>

{% for counselor in counselors %}
<div class="counselor-container">
    <div class="image-container">
        <img src="{{ counselor.picture }}" alt="" width="300" height="300">
    </div>
    <div class="image-container">
    <img src="{% static 'images/smple5-img.jpg' %}" alt="" width="300" height="300">
    </div>
    <div class="info-block">
        <h2>{{ counselor.username }}</h2>
        <p>{{ counselor.introduction }}</p>
        <a href="{% url 'boards:select_counselor' counselor.id %}">選択</a>
        {% if user_type == 'User' %}
        {% if request.user.counselor is None %}
        <form method="POST" action="{% url 'boards:deselect_counselor' counselor.id %}">
        {% csrf_token %}
        {% comment %} <button type="submit">選択</button> {% endcomment %}
        </form>
        {% endif %}
        {% endif %}
    </div>
</div>
{% endfor %}

{% block extra_styles %}
<style>
    .counselor-container {
        display: flex;
        align-items: center;
        justify-content: flex-start; /* 左寄せ */
        margin: 20px auto;
    }
    .image-container {
        flex: 0 0 auto;
    }
    .info-block {
        padding: 10px; /* 内側の余白を小さく */
        border: 1px solid #000;
        background-color: #f0f0f0;
        text-align: left;
        margin-left: 20px; /* 画像とテキストの間の余白 */
        width: 300px; /* 幅を300ピクセルに設定 */
    }
    .text-center {
        text-align: center;
    }
</style>
{% endblock %}

<nav class="navbar navbar-expand-lg navbar-light bg-light flex-column">
    <a class="navbar-brand" href="{% url 'accounts:home' %}">メインメニューへ</a>
    {% if user.is_authenticated %}
    <a class="navbar-brand" href="{% url 'accounts:counselor_profile' %}">プロフィール画面へ</a>
    {% else %}
    {% endif %}
</nav>

{% endblock %}
